(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{17:function(t,i,e){"use strict";e.r(i);var n=e(1);function r(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function a(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?r(Object(e),!0).forEach((function(i){c(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function c(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var u={name:"ProductCartItemQuantity",props:{product:Object},data:function(){return{item:{}}},computed:a(a({},Object(n.c)(["cart"])),{},{maxLimit:function(){return this.product.in_stock},inStock:function(){return this.product.in_stock>0},quantity:function(){return parseInt(this.item.quantity)},limitReached:function(){return this.quantity>=this.maxLimit}}),methods:{addToCart:function(){var t=this;!isNaN(this.quantity)&&this.quantity>0?this.$store.dispatch("addCartItem",{quantity:this.quantity>=this.maxLimit?this.maxLimit:this.quantity,product:this.product}).then((function(i){t.item=i})):this.item.id&&this.$store.dispatch("removeCartItem",this.item)},increaseCartQuantity:function(){this.item.quantity++,this.limitReached&&(this.item.quantity=this.maxLimit),this.addToCart()},decreaseCartQuantity:function(){this.quantity>0&&(this.item.quantity--,this.addToCart())}},watch:{cart:{immediate:!0,handler:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=i.find((function(i){return i.product.id===t.product.id}));this.item=e||{quantity:0}}}}},o=e(0),s=Object(o.a)(u,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("app-input",{attrs:{placeholder:"Quantity",min:"0",max:t.product.in_stock,type:"number",disabled:!t.inStock,"append-icon":"fe fe-plus","prepend-icon":"fe fe-minus","on-append-click":t.increaseCartQuantity,"on-prepend-click":t.decreaseCartQuantity},on:{input:t.addToCart},model:{value:t.item.quantity,callback:function(i){t.$set(t.item,"quantity",i)},expression:"item.quantity"}}),t._v(" "),t.limitReached?e("small",{staticClass:"text-danger mt-n3"},[t._v("Stock limit of "+t._s(t.product.in_stock)+" reached")]):t._e(),t._v(" "),e("div",{staticClass:"text-right"},[e("small",{staticClass:"text-muted"},[t._v("Total: "+t._s(t._f("money")(t.item.quantity*t.product.price,t.product.currency)))])])],1)}),[],!1,null,null,null);i.default=s.exports}}]);